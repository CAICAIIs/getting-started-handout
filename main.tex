\documentclass[12pt, openany]{book}

\usepackage[UTF8, heading=true]{ctex}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{graphicx}
\usepackage{geometry}
\usepackage{subfiles}
\usepackage{authblk}
\usepackage{fontawesome}
\usepackage{xcolor}
\usepackage{tikz}
\usetikzlibrary{arrows.meta, positioning, shapes, calc}

\usepackage{draftwatermark}         % 所有页加水印
% \usepackage[firstpage]{draftwatermark} % 只有第一页加水印
\SetWatermarkText{LCPU-2025}           % 设置水印内容
%\SetWatermarkText{\includegraphics{fig/texlion.png}}         % 设置水印logo
\SetWatermarkLightness{0.975}             % 设置水印透明度 0-1
\SetWatermarkScale{1}                   % 设置水印大小 0-1

\geometry{a4paper, margin=1in}
\usepackage{hyperref}
% 魔法改造开始喵！
\makeatletter
\let\oldhref\href
\renewcommand{\href}[2]{%
  \oldhref{#1}{%
    \color{blue}\underline{#2}%
    \raisebox{0.2ex}{\tiny$\nearrow$}% 右上箭头
  }%
}
\makeatother
\title{\Huge\textbf{北京大学计算机基础科学与开发手册}}
\author[a]{臧炫懿}
\affil[a]{北京大学信息科学技术学院、北京大学学生Linux俱乐部}
\date{2025年版本}

% \ctexset{
%   appendixname = 附录,
%   chapter/nameformat = \centering\Large\bfseries,
%   chapter/number = \Alph{chapter},
% }

\begin{document}

\maketitle

\frontmatter

\subfile{chapters/00-introduction.tex}

\mainmatter

\tableofcontents

% \newpage

\part{零基础起步}

\subfile{chapters/01-encounter.tex}

\subfile{chapters/02-knowledge-acquirement.tex}

\subfile{chapters/03-initial-usage.tex}

\subfile{chapters/04-buy.tex}

\part{大学计算机前置}

\subfile{chapters/05-coding.tex}

\subfile{chapters/06-text-processing.tex}

\subfile{chapters/07-drive-your-pc.tex}

\subfile{chapters/08-play-with-linux.tex}

\part{走向开发}

\subfile{chapters/09-pragmatic-coding.tex}

\subfile{chapters/10-debugging.tex}

\appendix

\subfile{chapters/100-mini-ics.tex}

\subfile{chapters/101-cpp-guidance.tex}

\backmatter

\subfile{chapters/99-postscript.tex}


\end{document}
